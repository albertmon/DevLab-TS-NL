/*
*
* Fancy fields 1.1 
* URI: http://www.jqfancyfields.com
*
* Date: December 17 2012
*
* Copyrights 2012 Gilad Korati & Matan Gottlieb
*
* This code released under WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
var _mouseX=0;var _mouseY=0;var _ffIsMobile=(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent));(function(f){var m=null;var c=false;var l=false;var o=true;var a=false;var k=false;var i=false;var e;var q="";var n;var p={init:function(s){if(o){f(document).keydown(function(t){if(m!=null){k=false;var u=t.keyCode||t.which;if(u=="38"){k=true;g();t.preventDefault()}else{if(u=="40"){k=true;h();t.preventDefault()}}}});f(document).keypress(function(y){if(m!=null){if(k){k=false;return false}var z=y.keyCode||y.which;if(z=="38"||z=="56"){g()}else{if(z=="40"||z=="50"){h()}else{if(z=="13"){f(".on",m).click()}else{if(z=="27"){m.closest(".ffSelectMenuWrapper").prev(".ffSelectButton").click()}else{var x=String.fromCharCode(y.keyCode|y.charCode);var A=m.data("cts");clearTimeout(e);if(i&&(q!=x)){q=q+x}else{q=x}i=true;e=setTimeout(function(){i=false},A);var w=q.toLowerCase();var v=q.length;if(f(".on SPAN",m).text().substring(0,v).toLowerCase()==w){if(v<2){if(f(".on",m).next("LI").children("SPAN").text().substring(0,v).toLowerCase()==w){f(".on",m).removeClass("on").next("LI").addClass("on");d(m)}else{var u=f("LI",m).index(f(".on",m));var t=true;f("LI SPAN",m).slice(u+1).each(function(){if(f(this).text().substring(0,v).toLowerCase()==w){f(".on",m).removeClass("on");f(this).parent("LI").addClass("on");d(m);t=false;return false}});if(t){f("LI SPAN",m).each(function(){if(f(this).text().substring(0,v).toLowerCase()==w){f(".on",m).removeClass("on");f(this).parent("LI").addClass("on");d(m);return false}})}}}}else{f("LI SPAN",m).each(function(){if(f(this).text().substring(0,v).toLowerCase()==w){f(".on",m).removeClass("on");f(this).parent("LI").addClass("on");d(m);return false}})}}}}}y.preventDefault()}});f(document).click(function(t){if(m!=null){if(!c&&!m.data("ds")){m.closest(".ffSelectMenuWrapper").prev(".ffSelectButton").click()}else{m.data("ds",false)}c=false}});o=false}return this.each(function(){var z=f(this);if((!z.is("input"))&&(!z.is("textarea"))&&(!z.is("select"))){if(z.is("FORM")){z.attr("autocomplete","off")}else{f("FORM",z).attr("autocomplete","off")}var t=f("INPUT,SELECT,TEXTAREA",z);if((typeof s!="undefined")&&(typeof s.exclude!="undefined")){var u=s.exclude.split(",");f.each(u,function(M,N){t=t.not((""+N))})}t.fancyfields(s)}else{var I=f.extend({enableOnClean:false,cleanDisableOnClean:false,cleanOnFocus:true,appendInputClassToWrapper:false,customScrollBar:false,continueTypingSpees:1000},s);z.data("settings",I);if(z.data("defaultSettings")==null){z.data("defaultSettings",I)}var w=null;z.data("default",z.clone());var H=((z.attr("class")!=null)&&(I.appendInputClassToWrapper))?" "+z.attr("class"):"";if(z.is(":text")){var L=z.val();w=f('<div class="ffTextBoxWrapper'+H+'"></div>');w.insertAfter(z).append(f('<div class="ffTextBoxRight"></div>').append(f('<div class="ffTextBoxLeft"></div>').append(z)));b(z,w);z.focusin(function(){if(I.cleanOnFocus){if(L==z.val()){z.val("")}}w.addClass("focus")});z.focusout(function(){if(I.cleanOnFocus){if(z.val()==""){z.val(L)}}w.removeClass("focus")})}if(z.is(":password")){var H=z.attr("class")!=null?" "+z.attr("class"):"";w=f('<div class="ffPasswordWrapper'+H+'"></div>');w.insertAfter(z).append(f('<div class="ffPasswordRight"></div>').append(f('<div class="ffPasswordLeft"></div>').append(z)));b(z,w);z.focusin(function(){w.addClass("focus")});z.focusout(function(){w.removeClass("focus")})}if(z.is("textarea")){var L=z.val();w=f('<div class="ffTextAreaWrapper'+H+'"></div>');w.append('<div class="ffTextAreaTop"><span></span></div>').insertAfter(z).append(f('<div class="ffTextAreaMid"></div>').append(f('<div class="ffTextAreaLeft"></div>').append(z))).append('<div class="ffTextAreaBottom"><span></span></div>');if(f.browser.msie&&parseInt(f.browser.version,10)===7){var K=w.width();f(".ffTextAreaTop",w).css("width",K);f(".ffTextAreaBottom",w).css("width",K)}b(z,w);z.focusin(function(){if(L==z.val()){z.val("")}w.addClass("focus")});z.focusout(function(){w.removeClass("focus");if(z.val()==""){z.val(L)}})}if(z.is(":checkbox")){w=f('<div class="ffCheckboxWrapper'+H+'" ></div>');var v=f('<div class="ffCheckbox"></div>');if(z.is(":checked")){w.addClass("on")}b(z,w);var C=null;var G=z.next();if(G.is("LABEL")){C=f('<a href="javascript:void(0)">'+G.text()+"</a>")}w.append(v).insertAfter(z).append(z.css("display","none"));if(C!=null){r(z,v,C,G,w)}v.click(function(){if(!w.hasClass("disabled")){$curField=f(this);$curInput=$curField.siblings("input");w.toggleClass("on");var M=false;if(!l){if($curInput.is(":checked")){$curInput.attr("checked",false)}else{$curInput.attr("checked",true);M=true}}else{if(!$curInput.is(":checked")){M=true}}if(!l){var N=I.onCheckboxChange;if(typeof N==="function"){N($curInput,M)}}}else{if(l){$curField=f(this);$curInput=$curField.siblings("input");if($curInput.is(":checked")){$curInput.attr("checked",false)}else{$curInput.attr("checked",true)}}}l=false});z.click(function(){l=true;v.click()});z.change(function(){if(!l){var M=false;if(z.is(":checked")){M=true}var N=I.onCheckboxChange;if(typeof N==="function"){N(z,M)}l=false}})}if(z.is(":radio")){w=f('<div class="ffRadioWrapper'+H+'" ></div>');var v=f('<div class="ffRadio"></div>');if(z.is(":checked")){w.addClass("on")}b(z,w);var C=null;var G=z.next();if(G.is("LABEL")){C=f('<a href="javascript:void(0)">'+G.text()+"</a>")}else{}w.append(v).insertAfter(z).append(z.css("display","none"));if(C!=null){r(z,v,C,G,w)}v.click(function(){var M=z.attr("name");if(!w.hasClass("disabled")){if(z.is(":checked")){}else{z.attr("checked",true);w.addClass("on");if(M!=""){f("input:radio").not(z).each(function(){if(f(this).attr("name")==M){f(this).closest(".ffRadioWrapper").removeClass("on")}})}var N=I.onRadioChange;if(typeof N==="function"){N(z)}}}else{if(l){$curChecked=f("input[name="+z.attr("name")+"]:checked");timer=setTimeout(function(){z.attr("checked",false);$curChecked.attr("checked",true)},1)}}l=false});z.click(function(){l=true;v.click()});z.change(function(){var M=I.onRadioChange;if(typeof M==="function"){M(z)}})}if(z.is("select")){w=f('<div class="ffSelectWrapper'+H+'" ></div>');var v=f('<div class="ffSelect"></div>').css({"z-index":10,position:"relative"});var x=f('<A href="javascript:void(0)" class="ffSelectButton"><span></span></A>');b(z,w);if(_ffIsMobile){w.append(v.append(x)).insertAfter(z.addClass("mobileSelect"));v.append(z.css({width:w.width(),height:w.height()}));x.click(function(){z.trigger("click")});f("span",x).text(f("option:selected",z).text());z.change(function(){var N=f("option:selected",z);f("span",x).text(N.text());var M=I.onSelectChange;if(typeof M==="function"){M(z,N.text(),N.val())}})}else{var F=f('<div class="ffSelectMenuWrapper"><div class="ffSelectMenuTop"><span></span></div></div>').css("position","absolute"),A=f("<ul>").data("cts",I.continueTypingSpees).data("ds",false),B="",J=false;f("option",z).each(function(){var M=f(this);if(M.is(":selected")){J=true;f("span",x).text(M.text());B+='<li class="on selected"><span>'+M.text()+"</span></li>"}else{B+="<li><span>"+M.text()+"</span></li>"}});A.html(B);var D=f("LI",A);f("option",z).each(function(M,N){D.eq(M).data("val",f(N).val())});if(!J){f("li:first",A).addClass("on selected")}var y=f('<div class="ffSelectMenuMid"></div>').css("overflow","auto");F.append(f('<div class="ffSelectMenuMidBG"></div>').append(y.append(A))).append('<div class="ffSelectMenuBottom"><span></span></div>');F.css("display","none");w.append(v.append(x).append(F)).insertAfter(z.css("display","none")).append(z);F.css("top",w.height());x.click(function(){if((m!=null)&&(m!=A)){m.closest(".ffSelectMenuWrapper").prev(".ffSelectButton").click()}c=true;if(F.is(":hidden")){if(!w.hasClass("disabled")){m=A;v.css("z-index",20);w.addClass("active");F.slideDown(300,function(){d(A);y.focus()})}}else{m=null;w.removeClass("active");f("LI.on",F).removeClass("on");f("LI.selected",F).addClass("on");F.slideUp(300,function(){v.css("z-index",10)})}});j(x,w);var E=0;f("LI",A).click(function(){var Q=f(this);if(!Q.hasClass("selected")){var P=Q.data("val");var O=f("span",Q).text();var M=f("LI",A).index(Q);z.val(P);f("span",x).text(O);Q.siblings(f("li")).removeClass("on");Q.addClass("on");Q.siblings(f("li.selected")).removeClass("selected");Q.addClass("selected");w.removeClass("active");f("option:selected",z).removeAttr("selected");f("option:eq("+M+")",z).attr("selected",true);m=null;if(F.is(":visible")){F.slideUp(300,function(){v.css("z-index",10)})}if(!a){var N=I.onSelectChange;if(typeof N==="function"){N(z,O,P)}}}a=false}).mousemove(function(M){if((_mouseX!=M.pageX)||(_mouseY!=M.pageY)){f(".on",A).removeClass("on");f(this).addClass("on");_mouseX=M.pageX;_mouseY=M.pageY}});if(f.fn.ffCustomScroll&&I.customScrollBar){w.ffCustomScroll()}}}if(z.is(":submit")){w=f('<div class="ffButtonWrapper ffSubmitWrapper'+H+'"></div>');var x=f('<A href="javascript:void(0)"><span>'+z.val()+"</span></A>");w.insertAfter(z).append(x.append(z.css("display","none")));b(z,w);j(x,w);x.click(function(){z.closest("FORM").submit()})}if(z.is(":button")){w=f('<div class="ffButtonWrapper'+H+'"></div>');var x=f('<A href="javascript:void(0)"><span>'+z.val()+"</span></A>");w.insertAfter(z).append(x).append(z.css("display","none"));b(z,w);j(x,w);x.click(function(){z.click()})}if(z.is(":reset")){w=f('<div class="ffButtonWrapper ffResetWrapper'+H+'"></div>');var x=f('<A href="javascript:void(0)"><span>'+z.val()+"</span></A>");w.insertAfter(z).append(x).append(z.css("display","none"));b(z,w);j(x,w);x.click(function(){if(f(this).closest("form").length>0){z.closest("FORM").fancyfields("reset")}else{z.click()}})}z.data("wrapper",w)}})},option:function(t,s){return this.each(function(){var u=f(this);settings=u.data("settings");if(settings!=null){settings[t]=s}})},bind:function(t,s){return this.each(function(){var u=f(this);settings=u.data("settings");if(settings!=null){settings[t]=s}})},unbind:function(s){return this.each(function(){var t=f(this);settings=t.data("settings");if(settings!=null){settings[s]=null}})},disable:function(){return this.each(function(){var t=f(this);settings=t.data("settings");wrapper=t.data("wrapper");if(wrapper!=null){wrapper.addClass("disabled")}if(t.is(":text")||t.is("textarea")||t.is(":password")||t.is(":checkbox")||t.is(":radio")||t.is("select")){t.attr("disabled","disabled")}if(t.is(":checkbox")||t.is(":radio")){var s=t.data("labelElement");if(s!=null){s.attr("tabindex","-1")}}})},enable:function(){return this.each(function(){var t=f(this);settings=t.data("settings");wrapper=t.data("wrapper");if(wrapper!=null){wrapper.removeClass("disabled")}if(t.is(":text")||t.is("textarea")||t.is(":password")||t.is(":checkbox")||t.is(":radio")||t.is("select")){t.removeAttr("disabled")}if(t.is(":checkbox")||t.is(":radio")){var s=t.data("labelElement");if(s!=null){s.removeAttr("tabindex");if(t.attr("tabindex")){s.attr("tabindex",t.attr("tabindex"))}}}})},toggleEnable:function(){return this.each(function(){var s=f(this);wrapper=s.data("wrapper");if(wrapper!=null){wrapper.toggleClass("disabled")}if(s.is(":text")||s.is("textarea")||s.is(":password")||s.is(":checkbox")||s.is(":radio")||s.is("select")){if(s.attr("disabled")=="disabled"){s.removeAttr("disabled")}else{s.attr("disabled","disabled")}}})},clean:function(){return this.each(function(){var s=f(this);if((!s.is(":reset"))&&(!s.is(":button"))&&(!s.is(":submit"))&&(!s.is("input[type=hidden]"))){if((!s.is("input"))&&(!s.is("textarea"))&&(!s.is("select"))){f("INPUT,SELECT,TEXTAREA",s).fancyfields("clean")}else{settings=s.data("settings");wrapper=s.data("wrapper");if(settings.enableOnClean){wrapper.removeClass("disabled");if(s.is(":text")||s.is("textarea")||s.is(":password")||s.is(":checkbox")||s.is(":radio")||s.is("select")){s.removeAttr("disabled")}}if((s.attr("disabled")!="disabled")||(settings.cleanDisableOnClean)){if(s.is(":checkbox")||s.is(":radio")){if(!s.is(":checked")){invokeChange=false}s.removeAttr("checked");wrapper.removeClass("on")}else{if(s.is("select")){wrapper=s.data("wrapper");if(_ffIsMobile){f("option:first",s).attr("selected","selected");f("span",wrapper).text(f("option:first",s).text())}else{a=true;f("LI:first",wrapper).click()}}else{if(s.is(":text")||s.is("textarea")||s.is(":password")){s.val("");wrapper.removeClass("on")}else{if(s.is(":file")){s.fancyfields("reset")}}}}}}}})},reset:function(){return this.each(function(){var t=f(this);if((!t.is(":reset"))&&(!t.is(":button"))&&(!t.is(":submit"))&&(!t.is("input[type=hidden]"))){if((!t.is("input"))&&(!t.is("textarea"))&&(!t.is("select"))){f("INPUT,SELECT,TEXTAREA",t).fancyfields("reset")}else{defaultObj=t.data("default");wrapper=t.data("wrapper");var s=t.data("settings");if(t.is(":checkbox")||t.is(":radio")){t.data("defaultLabel").insertAfter(defaultObj.insertAfter(wrapper))}else{defaultObj.insertAfter(wrapper)}wrapper.remove();defaultObj.fancyfields(s)}}})},checked:function(){return this.each(function(){var s=f(this);if((s.is(":checkbox"))&&(!s.is(":checked"))){s.click()}})},unchecked:function(){return this.each(function(){var s=f(this);if((s.is(":checkbox"))&&(s.is(":checked"))){s.click()}})}};function d(t){if(f.fn.ffCustomScroll&&t.closest(".ffSelect").next("select").data("settings").customScrollBar){t.ffCustomScroll("ffCustomScrollCheckPosition")}else{var w=t.parent(".ffSelectMenuMid");var u=w.scrollTop();var s=w.height();var v=f("LI.on",t);if((s+u)<(v.offset().top-t.offset().top+v.outerHeight())){w.scrollTop(v.offset().top-t.offset().top)}else{if(u>(v.offset().top-t.offset().top)){w.scrollTop(v.offset().top-t.offset().top-s+v.outerHeight())}}}}function r(u,t,s,v,w){s.insertAfter(t);s.click(function(){t.click()});u.data("defaultLabel",v.clone());u.data("labelElement",s);v.remove();if(u.attr("tabindex")){s.attr("tabindex",u.attr("tabindex"))}if(u.is(":disabled")){s.attr("tabindex","-1")}j(s,w)}function j(t,s){t.focusin(function(){s.addClass("focus")});t.focusout(function(){s.removeClass("focus")});t.mouseout(function(){s.removeClass("focus")})}function h(){if(f(".on",m).next("LI").length>0){f(".on",m).toggleClass("on").next("LI").toggleClass("on");d(m)}}function g(){if(f(".on",m).prev("LI").length>0){f(".on",m).toggleClass("on").prev("LI").toggleClass("on");d(m)}}function b(t,s){if(t.is(":disabled")){s.addClass("disabled")}}f.fn.fancyfields=function(s){if(p[s]){return p[s].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof s==="object"||!s){return p.init.apply(this,arguments)}else{f.error("Method "+s+" does not exist on jQuery.tooltip")}}};f.fn.submitIncluseDisebeld=function(){var s=f(this);f("input:disabled , textarea:disabled , select:disabled ",s).removeAttr("disabled");s.submit()};f.fn.setVal=function(s){return this.each(function(){var u=f(this);if(u.is("select")){u.val(s);wrapper=u.data("wrapper");if(_ffIsMobile){f("span",wrapper).text(f("option:selected",u).text())}else{var t=f("option",u).index(f("option:selected",u));f("LI:eq("+t+")",wrapper).click()}}})};f.fn.setOptions=function(s){return this.each(function(){var u=f(this);if(u.is("select")){var v;var t=u.data("settings");wrapper=u.data("wrapper");u.html("").insertAfter(wrapper);f.each(s,function(w,x){v=x[1]==null?x[0]:x[1];u.append('<option value="'+v+'" >'+x[0]+"</option>")});wrapper.remove();u.fancyfields(t)}})};f.fancyfields={GroupVal:function(s){return f("input[name="+s+"]:checked").val()}}})(jQuery);
